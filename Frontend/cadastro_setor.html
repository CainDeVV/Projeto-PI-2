<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Setor</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/pages/forms.css">
    <link rel="stylesheet" href="css/pages/setores.css">
</head>
<body>

    <header id="app-header"></header>
    <aside id="app-sidebar"></aside>

    <main id="app-main" class="main-registration">
        <div class="form-container animate-fade">
            <div class="form-header-title">
                <h2>Cadastro de Setor</h2>
            </div>

            <form id="sector-form">
                
                <div class="form-group">
                    <label>Cidade *</label>
                    <div class="input-with-action">
                        <select id="city-select" class="custom-select" required>
                            <option value="">Selecione uma cidade...</option>
                        </select>
                        <button type="button" id="btn-add-city" class="btn-icon-action" title="Nova Cidade">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label>Empresa *</label>
                    <div class="input-with-action">
                        <select id="company-select" class="custom-select" disabled required>
                            <option value="">Selecione a cidade primeiro...</option>
                        </select>
                        <button type="button" id="btn-add-company" class="btn-icon-action" title="Nova Empresa" disabled>
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>

                <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">

                <div class="form-group">
                    <label>Nome do Setor *</label>
                    <input type="text" id="nome" placeholder="Ex: Financeiro, TI, RH" required>
                </div>

                <div class="form-group">
                    <label>Endereço / Localização *</label>
                    <input type="text" id="localizacao" placeholder="Ex: Bloco A, Sala 104" required>
                </div>

                <div class="form-group">
                    <label>Observação do Setor</label>
                    <textarea id="observacao" placeholder="Detalhes adicionais..."></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-cancel" onclick="history.back()">Cancelar</button>
                    <button type="submit" class="btn-save">Salvar Setor</button>
                </div>
            </form>
        </div>
    </main>

    <div id="modal-city" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3><i class="fas fa-map-marker-alt"></i> Nova Cidade</h3>
                <button type="button" class="modal-close" data-close="modal-city">&times;</button>
            </div>
            <form id="form-city-modal">
                <div class="form-row three-col" style="padding: 20px;">
                    <div>
                        <label>Nome da Cidade *</label>
                        <input type="text" id="modal-city-name" required placeholder="Ex: Crateús">
                    </div>
                    <div>
                        <label>UF *</label>
                        <input type="text" id="modal-city-uf" required maxlength="2" style="text-transform: uppercase;" placeholder="CE">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-cancel" data-close="modal-city">Cancelar</button>
                    <button type="submit" class="btn-save">Salvar Cidade</button>
                </div>
            </form>
        </div>
    </div>

    <div id="modal-company" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3><i class="fas fa-building"></i> Nova Empresa</h3>
                <button type="button" class="modal-close" data-close="modal-company">&times;</button>
            </div>
            <form id="form-company-modal">
                <div style="padding: 20px;">
                    <div class="form-group">
                        <label>Cidade Vinculada</label>
                        <input type="text" id="modal-company-city-readonly" disabled style="background-color: #eee;">
                    </div>
                    <div class="form-row">
                        <div>
                            <label>Nome Fantasia *</label>
                            <input type="text" id="modal-company-name" required>
                        </div>
                        <div>
                            <label>CNPJ *</label>
                            <input type="text" id="modal-company-cnpj" required placeholder="00.000.000/0000-00">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Descrição</label>
                        <input type="text" id="modal-company-desc">
                    </div>
                    <div class="form-group">
                        <label>Observação</label>
                        <textarea id="modal-company-obs" rows="2"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-cancel" data-close="modal-company">Cancelar</button>
                    <button type="submit" class="btn-save">Salvar Empresa</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="js/pages/cadastro_setor.js"></script>
</body>
</html>